<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Linux-韩顺平, 西芹的小站">
    <meta name="description" content="# 基础篇

Linux 分区一般分为：boot 分区、交换分区和根分区。
虚拟系统安装好后，它的本质就是文件。
虚拟机克隆：如果你已经安装了一台 liux 操作系统，你还想再更多的，使用虚拟机克隆即可。方式 1，直接拷贝一份安装好的虚拟机">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Linux-韩顺平 | 西芹的小站</title>
    <link rel="icon" type="image/png" href="/%E5%85%94%E5%AD%90.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/%E5%85%94%E5%AD%90.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">西芹的小站</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/%E5%85%94%E5%AD%90.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">西芹的小站</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/xiqin-huang" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>关注我
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/xiqin-huang" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="关注我" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/1.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Linux-韩顺平</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/">
                                <span class="chip bg-color">java学习路线</span>
                            </a>
                        
                            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">
                                <span class="chip bg-color">计算机基础</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/java/" class="post-category">
                                java
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-10-12
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    8.3k
                </div>
                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="基础篇"><a class="markdownIt-Anchor" href="#基础篇">#</a> 基础篇</h1>
<p><img src="F:%5Cblog%5Cmyblog%5Csource%5C_posts%5Cjava%5CLinux-%E9%9F%A9%E9%A1%BA%E5%B9%B3%5C186662223856814ec6f2295c8a23c346.png" alt="截图"></p>
<p>Linux 分区一般分为：boot 分区、交换分区和根分区。</p>
<p>虚拟系统安装好后，它的本质就是文件。</p>
<p>虚拟机克隆：如果你已经安装了一台 liux 操作系统，你还想再更多的，使用虚拟机克隆即可。方式 1，直接拷贝一份安装好的虚拟机文件。然后在 VM 上点击打开对应的 vmx 文件即可。方式 2，使用 vmware 的克隆操作，右键点击管理，后选择克隆即可。注意，克隆时，需要先关闭 linux 系统。</p>
<p>虚拟机快照：如果你在使用虚拟机系统的时候，你想回到原先的某个状态，也就是说你担心可能有些误操作造成系统异常，需要回到原先某个正常运行的状态，vmware 也提供了这样的功能，就叫快照管理。</p>
<p>vmtools 安装后可以让我们在 Windows 下更好的管理 VM 虚拟机，可以设置 Windows 和 centos 的共享文件夹。在设置中开启共享文件夹后，可以在主文件夹 -&gt; 其他位置 -&gt;mnt-&gt;hgfs 下找到该文件夹。</p>
<p>Windows 和 centos 就可以共享文件了，但是在实际开发中，文件的上传下载是需要使用远程方式完成的。</p>
<p>使用 tab 键可以实现自动补全。</p>
<p><strong>在 Linux 世界里，一切皆文件。</strong></p>
<p>三种网络连接模式：桥接模式：虚拟系统可以和外部系统通讯，但是容易导致 IP 冲突。NAT 模式：网络地址转换模式，虚拟系统可以和外部系统通讯，不造成 IP 冲突。主机模式：独立的系统，不与外部系统通讯。</p>
<p>使用 ifconfig 查看虚拟机的 inet 地址，然后使用 xshell 进行远程连接。</p>
<h2 id="目录结构"><a class="markdownIt-Anchor" href="#目录结构">#</a> 目录结构</h2>
<ol>
<li>/bin (usr/bin、/usr/local/bin) 是 Binary 的缩写，这个目录存放着最经常使用的命令。</li>
<li>/sbin (/usr/sbin/usr/local/sbin) s 就是 Super User 的意思，这里存放的是系统管理员使用的系统管理程序。</li>
<li>/home 存放普通用户的主目录，在 Linux 中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名。</li>
<li>/root 该目录为系统管理员，也称作超级权限者的用户主目录。</li>
<li>/Iib 系统开机所需要最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所 有的应用程序都需要用到这些共享库。</li>
<li>/lost+found 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</li>
<li>/etc 所有的系统管理所需要的配置文件和子目录，比如安装 mysq 数据库 my.conf</li>
<li>/usr 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与 windows 下的 program files 目录。</li>
<li>/boot 存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</li>
<li>/poc 这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息。不能轻易修改，否则会导致系统崩溃。</li>
<li>/srv service 缩写，该目录存放一些服务启动之后需要提取的数据。</li>
<li>/sys 这是 Iinux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs。</li>
<li>/tmp 这个目录是用来存放一些临时文件的。</li>
<li>/dev 类似于 windows 的设备管理器，把所有的硬件用文件的形式存储。</li>
<li>/media linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个目录下。</li>
<li>/mnt 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在 /mnt/ 上，然后进入该目录就可以查看里的内容了。例如 d:/myshare。</li>
<li>/opt 这是给主机额外安装软件所存放的目录。如安装 ORACLE 数据库就可放到该目录下。默认为空。</li>
<li>/usr/Iocal 这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序。</li>
<li>/var 这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件。</li>
<li>/selinux [security-enhanced linux] SELinux 是一种安全子系统，它能控制程序只能访问特定文件，有三种工作模式，可以自行设置。</li>
</ol>
<h1 id="linux实操篇"><a class="markdownIt-Anchor" href="#linux实操篇">#</a> Linux 实操篇</h1>
<h2 id="vi和vim"><a class="markdownIt-Anchor" href="#vi和vim">#</a> vi 和 vim</h2>
<h3 id="vi和vim的三种模式"><a class="markdownIt-Anchor" href="#vi和vim的三种模式">#</a> vi 和 vim 的三种模式</h3>
<ol>
<li>正常模式：以 vim 打开一个档案就直接进入一般模式（这是默认的，模式）。在这个模式中，你可以使用方向按键来移动光标，使用删除字符或删除整行来处理档案内容，也可以使用复制、粘贴来处理文件数据。</li>
<li>编辑模式：按下 i、I、o、O、a、A、r、R 等任何一个字母之后才会进入编辑模式，一般是按 i。</li>
<li>命令行模式：输入 esc 后再输入：。在该模式下，可以提供相关指令完成读取、存盘、替换、离开 vim、显示行号等动作。</li>
</ol>
<p><img src="F:%5Cblog%5Cmyblog%5Csource%5C_posts%5Cjava%5CLinux-%E9%9F%A9%E9%A1%BA%E5%B9%B3%5C209330823b8a08dcde2343614bf23ba0.png" alt="无标题-2023-02-20-1711.png"></p>
<h3 id="快捷键使用"><a class="markdownIt-Anchor" href="#快捷键使用">#</a> 快捷键使用</h3>
<ol>
<li>拷贝当前行 yy, 拷贝当前行向下的 5 行 5yy, 并粘贴（输入 P)。 注意不要使用小键盘的数字，否则会进入编辑模式。</li>
<li>删除当前行 dd, 删除当前行向下的 5 行 5dd。</li>
<li>在文件中查找某个单词 [命令行下输入 / 关键字，回车查找，输入 n 就是查找下一个]</li>
<li>设置文件的行号，取消文件的行号。[命令行下:set nu 和:set nonu) 。</li>
<li>编辑 /etc/profile 文件，在一般模式下使用快捷键到该文档的最末行 [G] 和最首行 [gg]。注意是区分大小写的。</li>
<li>在一个文件中输入 "hello”, 然后又撤销这个动作 u。</li>
<li>编辑 /etc/profile 文件，在一般模式下，并将光标移动到，输入 20，再输入 20 行 shift+g。</li>
</ol>
<h2 id="关机-重启和用户登录注销"><a class="markdownIt-Anchor" href="#关机-重启和用户登录注销">#</a> 关机、重启和用户登录注销</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>shutdown -h now</td>
<td>立刻关机</td>
</tr>
<tr>
<td>shutdown -h 1</td>
<td>1 分钟后关机，shutdown 默认结果</td>
</tr>
<tr>
<td>shutdown -r now</td>
<td>立即重启计算机</td>
</tr>
<tr>
<td>halt</td>
<td>关机</td>
</tr>
<tr>
<td>reboot</td>
<td>重启</td>
</tr>
<tr>
<td>sync</td>
<td>把内存中的数据同步到磁盘</td>
</tr>
</tbody>
</table>
<p>不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中。目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync。</p>
<p>登录时尽量少用 root 帐号登录，因为它是系统管理员，拥有最大的权限，避免操作失误。可以利用 普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份.。</p>
<p>在提示符下输入 logout 即可注销用户，logout 注销指令在图形运行级别无效，在运行级别 3 下有效。</p>
<h2 id="用户管理"><a class="markdownIt-Anchor" href="#用户管理">#</a> 用户管理</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>useradd milan</td>
<td>添加用户，默认该用户的家目录在 /home/milan</td>
</tr>
<tr>
<td>useradd -d 指定目录 新用户名</td>
<td>给新创建的用户指定家目录</td>
</tr>
<tr>
<td>passwd 用户名</td>
<td>修改用户的密码</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前用户所在目录</td>
</tr>
<tr>
<td>userdel 用户名</td>
<td>删除用户，但保留用户主目录</td>
</tr>
<tr>
<td>userdel -r 用户名</td>
<td>删除用户及其主目录</td>
</tr>
<tr>
<td>id 用户名</td>
<td>查询用户信息</td>
</tr>
<tr>
<td>su - jack</td>
<td>切换到 jack 用户</td>
</tr>
<tr>
<td>who am i</td>
<td>查询第一次登录的用户名</td>
</tr>
<tr>
<td>whoami</td>
<td>显示当前操作的用户名</td>
</tr>
</tbody>
</table>
<p>使用 su 切换用户时，从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。当需要返回到原来用户时，使用 exit/logout: 指令。</p>
<p>在新建用户时，如果没有为其指定组，会默认创建一个与用户名同名的组，并进行绑定。</p>
<h3 id="用户和组相关文件"><a class="markdownIt-Anchor" href="#用户和组相关文件">#</a> 用户和组相关文件</h3>
<p>/etc/passwd 文件：用户 (user) 的配置文件，记录用户的各种信息。每行的含义：用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录 Shell。</p>
<p>/etc/shadow 文件：口令的配置文件。每行的含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志。</p>
<p>/etc/group 文件：组 (group) 的配置文件，记录 Linux 包含的组的信息。每行的含义：组名：口令：组标识号：组内用户列表。</p>
<h2 id="实用指令"><a class="markdownIt-Anchor" href="#实用指令">#</a> 实用指令</h2>
<h3 id="文件目录类"><a class="markdownIt-Anchor" href="#文件目录类">#</a> 文件目录类</h3>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>init [0123456]</td>
<td>切换不同的运行级别</td>
</tr>
<tr>
<td>systemctl get-default</td>
<td>查看当前运行级别</td>
</tr>
<tr>
<td>systemctl set-default [multi-user.target,graphical.target]</td>
<td>前者类似运行级别 3，后者类似运行级别 5</td>
</tr>
<tr>
<td>man [命令或配置文件]</td>
<td>功能描述，获得帮助信息，使用空格键可以往下翻</td>
</tr>
<tr>
<td>help</td>
<td>获得 shell 内置命令的帮助信息</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前工作目录的绝对路径</td>
</tr>
<tr>
<td>ls [选项] [目录或文件]</td>
<td>-a：显示当前目录的所有文件和目录，包括隐藏的。-l：以列表的方式显示信息</td>
</tr>
<tr>
<td>cd ~</td>
<td>回到自己的家目录</td>
</tr>
<tr>
<td>cd …</td>
<td>回到当前目录的上一级目录</td>
</tr>
<tr>
<td>mkdir 目录名</td>
<td>创建目录，-p 创建多级目录</td>
</tr>
<tr>
<td>rmdir 目录名</td>
<td>删除空目录</td>
</tr>
<tr>
<td>rm 目录名</td>
<td>移除文件或目录，-r：递归删除整个文件夹，-f：强制删除不提示</td>
</tr>
<tr>
<td>touch 文件名称</td>
<td>创建空文件</td>
</tr>
<tr>
<td>cp 要复制的文件名或文件夹 目录名</td>
<td>拷贝文件到指定目录，-r：递归复制整个文件夹，\cp 是强制覆盖不提示</td>
</tr>
<tr>
<td>mv oldName newName</td>
<td>重命名文件</td>
</tr>
<tr>
<td>mv /temp/movefile /targetFolder</td>
<td>移动文件与目录</td>
</tr>
<tr>
<td>cat 文件名</td>
<td>查看文件内容，-n：显示行号</td>
</tr>
<tr>
<td>echo 输出内容</td>
<td>输出内容到控制台</td>
</tr>
<tr>
<td>head -n 5 文件名</td>
<td>查看文件开头 5 行</td>
</tr>
<tr>
<td>tail 文件名</td>
<td>输出文件尾部的内容默认显示前 10 行；-n：指定行数；-f：实时追踪该文档的所有更新。使用 - f 时可以使用 ctrl+C 退出浏览。</td>
</tr>
<tr>
<td>ln -s 原文件或目录 软链接名</td>
<td>给原文件创建一个软链接，相当于快捷方式</td>
</tr>
<tr>
<td>history</td>
<td>查看历史命令</td>
</tr>
</tbody>
</table>
<p>基本介绍运行级别说明：0: 关机；1: 单用户，可以用来找回丢失密码； 2: 多用户状态没有网络服务；3: 多用户状态有网络服务；4：系统未使用保留给用户；5：图形界面 6: 系统重启。常用运行级别是 3 和 5，也可以指定默认运行级别。</p>
<p>在 Linux 中，隐藏文件是以 "." 开头。</p>
<p>cat 只能浏览文件，而不能修改文件，为了浏览方便，通常加上管道命令 | more。</p>
<p><code>&gt;输出重定向和&gt;&gt;追加指令</code> ，重定向是改变默认的输出位置。</p>
<h4 id="more指令交互"><a class="markdownIt-Anchor" href="#more指令交互">#</a> more 指令交互</h4>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>空白键 (space)</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>Enter</td>
<td>向下翻一行</td>
</tr>
<tr>
<td>q</td>
<td>立即离开 more，不再显示该文件内容</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>向下翻动一屏</td>
</tr>
<tr>
<td>Ctrl+B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>=</td>
<td>输出当前行的行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行的行号</td>
</tr>
</tbody>
</table>
<h4 id="less指令交互"><a class="markdownIt-Anchor" href="#less指令交互">#</a> less 指令交互</h4>
<p>less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是比 more 指令更加强大，支持各种显示终端。Iess 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>空白键</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>pagedown</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>pageup</td>
<td>向上翻动一页</td>
</tr>
<tr>
<td>/ 字符串</td>
<td>搜寻子串；n：向下查找；N：向上查找</td>
</tr>
<tr>
<td>? 字符串</td>
<td>搜寻子串；n：向上查找；N：向下查找</td>
</tr>
<tr>
<td>q</td>
<td>离开 less 程序</td>
</tr>
</tbody>
</table>
<h3 id="时间日期类"><a class="markdownIt-Anchor" href="#时间日期类">#</a> 时间日期类</h3>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>显示当前日期</td>
</tr>
<tr>
<td>date -s 字符串时间</td>
<td>设置系统时间</td>
</tr>
<tr>
<td>cal</td>
<td>查看日历</td>
</tr>
</tbody>
</table>
<h3 id="搜索查找类"><a class="markdownIt-Anchor" href="#搜索查找类">#</a> 搜索查找类</h3>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>find 搜索范围 选项</td>
<td>从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。有 name、user 和 size 三种查找选项。</td>
</tr>
<tr>
<td>locate 搜索文件</td>
<td>快速定位文件路径</td>
</tr>
<tr>
<td>which</td>
<td>可以查看指令的路径</td>
</tr>
<tr>
<td>grep 选项 查找内容 源文件</td>
<td>过滤查找。-n：显示匹配行及行号；-i：忽略字母大小写</td>
</tr>
</tbody>
</table>
<p>locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locatel 数据库。由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</p>
<p><strong>管道符号 “|”，表示将前一个指令的处理结果输出传递给后面的指令处理。</strong></p>
<h3 id="压缩和解压缩类"><a class="markdownIt-Anchor" href="#压缩和解压缩类">#</a> 压缩和解压缩类</h3>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>gzip 文件名</td>
<td>压缩文件</td>
</tr>
<tr>
<td>gunzip 文件名.gz</td>
<td>解压文件</td>
</tr>
<tr>
<td>zip</td>
<td>压缩文件或文件夹。-r：递归压缩，即压缩目录</td>
</tr>
<tr>
<td>unzip</td>
<td>解压文件或文件夹。-d：指定解压后文件的存放目录 -</td>
</tr>
<tr>
<td>tar 选项 文件名.tar.gz 打包的内容</td>
<td>将文件夹打包。-c：产生.tar 打包文件；-v：显示详细信息；-f：指定压缩后的文件名；-z：打包同时压缩；-x：解包 tar 文件</td>
</tr>
</tbody>
</table>
<h2 id="组管理和权限管理"><a class="markdownIt-Anchor" href="#组管理和权限管理">#</a> 组管理和权限管理</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>ls -ahl</td>
<td>查看文件的所有者</td>
</tr>
<tr>
<td>chown 用户名 文件名</td>
<td>修改文件所有者，-R：如果是目录，则使其下所有子文件或目录递归生效</td>
</tr>
<tr>
<td>chgrp 组名 文件名</td>
<td>修改文件所在的组，-R：如果是目录，则使其下所有子文件或目录递归生效</td>
</tr>
<tr>
<td>groupadd 组名</td>
<td>新增组</td>
</tr>
<tr>
<td>groupdel 组名</td>
<td>删除组</td>
</tr>
<tr>
<td>useradd -g 用户组 用户名</td>
<td>增加用户的时候直接加上组</td>
</tr>
<tr>
<td>usermod -g 用户组 用户名</td>
<td>修改用户的组</td>
</tr>
<tr>
<td>chmod u=rwx,g=rx,o=x 文件或目录名</td>
<td>给文件或目录的所有者读写执行的权限，给所在组读执行权限，给其他组执行权限。+ 增强权限，- 减少权限，= 赋予权限。u 所有者，g 所在组，o 其他组，a 全部用户。</td>
</tr>
<tr>
<td>chmod 751 文件或目录名</td>
<td>通过数字变更权限，r=4,w=2,x=1，相加得到数字，u=7=4+2+1=rwx,g=5=4+1=rx,o=1=x。因此相当于 chmod u=rwx,g=rx,o=x 文件或目录名。</td>
</tr>
</tbody>
</table>
<p>在 linux 中的每个用户必须属于一个组，不能独立于组外。在 Linux 中每个文件有所有者、所在组、其它组的概念。</p>
<p>除文件的所有者和所在组的用户外，系统的其他用户都是文件的其他组。</p>
<h4 id="权限基本介绍"><a class="markdownIt-Anchor" href="#权限基本介绍">#</a> 权限基本介绍</h4>
<ol>
<li>第 0 位确定文件类型 (d,-,I,c,b)：I 是链接，相当于 windows 的快捷方式；- 是普通文件；d 是目录，相当于 windows 的文件夹；c 是字符设备：文件，鼠标，键盘；b 是块设备，比如硬盘。</li>
<li>第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。</li>
<li>第 4-6 位确定所属组（同用户组的）拥有该文件的权限。</li>
<li>第 7-9 位确定其他用户拥有该文件的权限。</li>
</ol>
<p><strong>rwx 作用到文件：[r] 代表可读 (read): 可以读取，查看。[w] 代表可写 (write)：可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件。[x] 代表可执行 (execute): 可以被执行.</strong></p>
<p><strong>rwx 作用到目录：[r] 代表可读 (read): 可以读取，Is 查看目录内容。[w] 代表可写 (write)：可以修改，对目录内创建 + 删除 + 重命名目录。[x] 代表可执行 (execute): 可以进入该目录。</strong></p>
<p><strong>权限更新会有延时性，系统记录的是你刚开始登录的所在组，需要更新或者重新登录来更新自己的组。</strong></p>
<h2 id="任务调度"><a class="markdownIt-Anchor" href="#任务调度">#</a> 任务调度</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>crontab</td>
<td>-e：编辑定时任务；-l：查询任务；-r：删除所有任务</td>
</tr>
<tr>
<td><code>*/1 * * * * ls -l /etc/ &gt; /tmp/to.txt</code></td>
<td>每小时的每分钟执行一次后面的指令。</td>
</tr>
<tr>
<td>at 选项 时间</td>
<td>一次性定时任务，输入 ctrl+d 结束 at 命令的输入</td>
</tr>
<tr>
<td>atrm 编号</td>
<td>删除编号的 at 任务</td>
</tr>
</tbody>
</table>
<p>任务调度是指系统在某个时间执行的特定的指令或程序。</p>
<p>at 命令是一次性定时计划任务，at 的守护进程 atd 会以后台模式运行，检查作业队列来运行。默认情况下，atd 守护进程每 60 秒检查作业队列，有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。 at 命令是一次性定时计划任务，执完一个任务后不再执行此任务了。在使用 at 命令的时候，一定要保证 atd 程的启动，可以使用相关指令 <code>ps -ef | grep atd</code>  来查看。</p>
<h3 id="crontab"><a class="markdownIt-Anchor" href="#crontab">#</a> crontab</h3>
<h4 id="5个占位符"><a class="markdownIt-Anchor" href="#5个占位符">#</a> 5 个占位符</h4>
<table>
<thead>
<tr>
<th>项目</th>
<th>含义</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>第一个 *</td>
<td>一小时当中的第几分钟</td>
<td>0-59</td>
</tr>
<tr>
<td>第二个 *</td>
<td>一天中的第几小时</td>
<td>0-23</td>
</tr>
<tr>
<td>第三个 *</td>
<td>一个月当中的第几天</td>
<td>1-31</td>
</tr>
<tr>
<td>第四个 *</td>
<td>一年当中的第几月</td>
<td>1-12</td>
</tr>
<tr>
<td>第五个 *</td>
<td>一周当中的星期几</td>
<td>0-7（0 和 7 都代表星期日）</td>
</tr>
</tbody>
</table>
<h4 id="特殊符号"><a class="markdownIt-Anchor" href="#特殊符号">#</a> 特殊符号</h4>
<table>
<thead>
<tr>
<th>特殊符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>代表任何时间。比如第一个 “*” 就代表一小时中每分钟都执行一次的意思。</td>
</tr>
<tr>
<td>,</td>
<td>代表不连续的时间。比如 “ <code>0 8,12,16 * * *</code>  命令”，就代表在每天的 8 点 0 分，12 点 0 分，16 点 0 分都执行一次命令。</td>
</tr>
<tr>
<td>-</td>
<td>代表连续的时间范围。比如 “ <code>0 5 * * 1-6</code>  命令”，代表在周一到周六的凌晨 5 点 0 分执行命令。</td>
</tr>
<tr>
<td>*/n</td>
<td>代表每隔多久执行一次。比如 “ <code>*/10 * * * *</code>  命令”，代表每隔 10 分钟就执行一遍命令。</td>
</tr>
</tbody>
</table>
<h3 id="at命令"><a class="markdownIt-Anchor" href="#at命令">#</a> at 命令</h3>
<h4 id="at命令选项"><a class="markdownIt-Anchor" href="#at命令选项">#</a> at 命令选项</h4>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-m</td>
<td>当指定的任务被完成后，将给用户发送邮件，即使没有标准输出</td>
</tr>
<tr>
<td>-I</td>
<td>atq 的别名</td>
</tr>
<tr>
<td>-d</td>
<td>atrm 的别名</td>
</tr>
<tr>
<td>-v</td>
<td>显示任务将被执行的时间</td>
</tr>
<tr>
<td>-c</td>
<td>打印任务的内容到标准输出</td>
</tr>
<tr>
<td>-V</td>
<td>显示版本信息</td>
</tr>
<tr>
<td>-q &lt;队列&gt;</td>
<td>使用指定的队列</td>
</tr>
<tr>
<td>-f &lt;文件&gt;</td>
<td>从指定文件读入任务而不是从标准输入读入</td>
</tr>
<tr>
<td>-t &lt;时间参数&gt;</td>
<td>以时间参数的形式提交要运行的任务</td>
</tr>
</tbody>
</table>
<h4 id="at时间定义"><a class="markdownIt-Anchor" href="#at时间定义">#</a> at 时间定义</h4>
<ol>
<li>接受在当天的 hh:mm (小时：分钟) 式的时间指定。假如该时间已过去，那么就放在第二天执行。例如： 04:00。</li>
<li>使用 midnight (深夜)，noon (中午)，teatime (饮茶时间，一般是下午 4 点) 等比较模糊的词语来指定时间。</li>
<li>采用 12 小时计时制，即在时间后面加上 AM (上午) 或 PM (下午) 来说明是上午还是下午。例如：12pm。</li>
<li>指定命令执行的具体日期，指定格式为 month day (月 日) 或 mm/dd/yy (月 / 日 / 年) 或 dd.mm.yy（日。月. 年)，指定的日期必须跟在指定时间的后面。例如：04:00 2021-03-1。</li>
<li>使用相对计时法。指定格式为：now+count time-units,now 就是当前时间，time-units 是时间单位，这里能够是 minutes (分钟)、hours (小时)、days (天)、weeks (星期)。count 是时间的数量，几天，几小时。例如：now+5 minutes。</li>
<li>直接使用 today (今天)、tomorrow (明天) 来指定完成命令的时间。</li>
</ol>
<h2 id="磁盘分区与挂载"><a class="markdownIt-Anchor" href="#磁盘分区与挂载">#</a> 磁盘分区与挂载</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>lsblk</td>
<td>查看磁盘分区情况，-f 可以查看更详细的信息</td>
</tr>
<tr>
<td>fdisk /dev/sdb</td>
<td>对 sdb 硬盘进行分区</td>
</tr>
<tr>
<td>mkfs -t 分区类型 /dev/sdb1</td>
<td>格式化 sdb1 磁盘</td>
</tr>
<tr>
<td>mount 磁盘名 文件夹名</td>
<td>将磁盘挂载到文件夹上</td>
</tr>
<tr>
<td>umount 磁盘名或文件夹名</td>
<td>取消挂载</td>
</tr>
<tr>
<td>df -h</td>
<td>查询系统整体磁盘使用情况</td>
</tr>
<tr>
<td>du -h 目录名</td>
<td>查询指定目录的磁盘占用情况</td>
</tr>
<tr>
<td>tree 目录名</td>
<td>以树状显示目录结构，可能需要使用 yum install tree 安装该指令</td>
</tr>
</tbody>
</table>
<h3 id="增加硬盘的步骤"><a class="markdownIt-Anchor" href="#增加硬盘的步骤">#</a> 增加硬盘的步骤</h3>
<ol>
<li>虚拟机添加硬盘：在【虚拟机】菜单中，选择【设置】，然后设备列表里添加硬盘，然后一路【下一步】，中间只有选择磁盘大小的地方需要修改，直到完成。然后重启系统（才能识别）！</li>
<li>分区：开始分区后输入 n，新增分区，然后选择 p，分区类型为主分区。两次回车默认剩余全部空间。最后输入 w 写入分区并退出，若不保存退出输入 q。</li>
<li>格式化。</li>
<li>挂载：用命令行挂载是临时的，重启后会失效。永久挂载通过修改 /etc/fstab 文件实现挂载，添加完成后执行 mount -a 立即生效。</li>
</ol>
<h2 id="网络配置"><a class="markdownIt-Anchor" href="#网络配置">#</a> 网络配置</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>ifconfig</td>
<td>查看 Linux 的网络配置</td>
</tr>
<tr>
<td>ipconfig</td>
<td>查看 Windows 的网络配置</td>
</tr>
<tr>
<td>ping 目的主机</td>
<td>测试当前服务器是否可以连接目的主机</td>
</tr>
<tr>
<td>service network restart</td>
<td>重启网络服务</td>
</tr>
</tbody>
</table>
<p>指定 IP 地址：直接修改配置文件来指定 IP, 并可以连接到外网。编辑 vim /etc/sysconfig/network-scripts/ifcfg-ens33。修改后重启网络服务或重启系统生效。</p>
<p>通过 vim /etc/hostname 修改主机名，修改后重启生效。</p>
<p>主机名与 hosts 映射。Windows 端：在 C:\Windows\System32\drivers\etc\hosts 文件指定。Linux 端：在 /etc/hosts 文件指定。</p>
<h2 id="进程管理"><a class="markdownIt-Anchor" href="#进程管理">#</a> 进程管理</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>ps</td>
<td>查看目前系统中，有哪些正在执行，以及执行情况。-a：显示当前终端的所有进程信息；-u：以用户的格式显示进程信息；-x：显示后台程序运行的参数。</td>
</tr>
<tr>
<td>kill 选项 进程号</td>
<td>通过进程号终止进程。-9 表示强制进程立即停止。</td>
</tr>
<tr>
<td>killall 进程名称</td>
<td>通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用。</td>
</tr>
<tr>
<td>pstree 选项</td>
<td>查看进程树。-p：显示进程的 PID；-u：显示进程的所属用户。</td>
</tr>
<tr>
<td>service 服务名 选项</td>
<td>管理服务</td>
</tr>
<tr>
<td>setup</td>
<td>查看所有系统服务，带 * 的会自启动</td>
</tr>
<tr>
<td>chkconfig</td>
<td>给服务的各个运行级别设置自启动或关闭，需要重启后生效。</td>
</tr>
<tr>
<td>systemctl 选项 服务名</td>
<td>管理服务</td>
</tr>
<tr>
<td>firewall-cmd --permanent --add-port = 端口号 / 协议</td>
<td>打开端口，改为–remove=port 则是关闭端口</td>
</tr>
<tr>
<td>firewall-cmd --reload</td>
<td>重新载入后才能生效</td>
</tr>
<tr>
<td>firewall-cmd --permanent --query-port = 端口号 / 协议</td>
<td>查询端口是否开放</td>
</tr>
<tr>
<td>top 选项</td>
<td>用于动态更新正在执行的进程</td>
</tr>
<tr>
<td>netstat 选项</td>
<td>查看系统网络情况。-an：按一定顺序排列输出；-p：显示哪个进程在调用</td>
</tr>
<tr>
<td>ping 对方 ip</td>
<td>网络检测工具</td>
</tr>
</tbody>
</table>
<p>ps 指令依次显示进程执行用户、进程号、占用 CPU 的百分比、占用虚拟内存的百分比、占用物理内存的百分比、终端信息、当前运行状态、开始时间、占用的 CPU 时间和执行该进程的指令。</p>
<p>PPID 是父进程 ID。</p>
<p>服务 (service) 本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如 (mysqld,sshd 防火墙等)，因此我们又称为守护进程，是 Linux 中非常重要的知识点。</p>
<p>systemctl 指令关闭或者启用防火墙后，立即生效。但这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。如果希望设置某个服务自启动或关闭永久生效，要使用 systemctl 的 enable 和 disable 选项。</p>
<p>service 管理的指令可以在 /etc/init.d 查看。</p>
<p>systemctl 指令管理的服务在 /usr/Iib/systemd/system 查看。</p>
<p>使用 dism /Online/Enable-Feature /FeatureName:TelnetClient 指令在 Windows 安装 Telnet 指令。</p>
<h2 id="rpm和yum"><a class="markdownIt-Anchor" href="#rpm和yum">#</a> RPM 和 YUM</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>rpm -qa</td>
<td>查询已安装的 RPM 列表</td>
</tr>
<tr>
<td>rpm -q firefox</td>
<td>查询软件是否安装</td>
</tr>
<tr>
<td>yum list</td>
<td>查询可以安装的软件</td>
</tr>
<tr>
<td>yum install 包名</td>
<td>按照指定的 yum 包</td>
</tr>
</tbody>
</table>
<p>rpm 用于互联网下载包的打包及安装工具，它包含在某些 Linux 分发版中。它生成具有.RPM 扩展名的文件。RPM 是 RedHat Package Manager (RedHats 软件包管理工具) 的缩写，类似 windows 的 setup.exe，这一文件格式名称虽然打上了 RedHat 的标志，但理念是通用的。</p>
<p>可以在光盘的 package 文件夹中找需要按照的 rpm 包。</p>
<p>yum 是一个 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</p>
<h1 id="提高篇"><a class="markdownIt-Anchor" href="#提高篇">#</a> 提高篇</h1>
<h2 id="java"><a class="markdownIt-Anchor" href="#java">#</a> java</h2>
<p>安装 jdk 要注意写入环境变量，并在写入后更新文件。</p>
<p>安装 Tomcat 要注意打开防火墙的端口。</p>
<p>安装 idea 要注意在图像界面启动.sh 文件，因为安装时需要图形界面。</p>
<p>安装 MySQL 时，centos7.6 自带的类 mysql 数据库是 mariadb，会跟 mysql 冲突，要先删除。</p>
<h2 id="shell"><a class="markdownIt-Anchor" href="#shell">#</a> shell</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>set</td>
<td>显示当前 shell 中的所有变量</td>
</tr>
<tr>
<td>变量 = 值</td>
<td>定义变量</td>
</tr>
<tr>
<td>unset 变量</td>
<td>撤销变量</td>
</tr>
<tr>
<td>readonly 变量</td>
<td>声明静态变量，不能 unset</td>
</tr>
<tr>
<td>export 变量名 = 变量值</td>
<td>将 shell 变量输出为环境变量 / 全局变量</td>
</tr>
<tr>
<td>source 配置文件</td>
<td>刷新配置文件使其生效</td>
</tr>
<tr>
<td>echo $ 变量名</td>
<td>输出变量的值</td>
</tr>
<tr>
<td>:&lt;&lt;! 内容！</td>
<td>多行注释，注释符号需要分行</td>
</tr>
<tr>
<td>$$</td>
<td>当前进程的进程号 (PID)</td>
</tr>
<tr>
<td>$!</td>
<td>后台运行的最后一个进程的进程号 (PID)</td>
</tr>
<tr>
<td>$?</td>
<td>最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令正确执行；如果这个变量的值为非 0 则证明上一个命令执行不正确。</td>
</tr>
<tr>
<td><code>$((运算符))</code>  或 <code>$[运算式]</code>  或 expr 运算式</td>
<td>算术运算，expr 运算符间要有空格且乘法需要 / 转义符号</td>
</tr>
<tr>
<td>[ condition ]</td>
<td>条件判断，condition 前后有空格，非空返回 true</td>
</tr>
<tr>
<td>read 选项 参数</td>
<td>读取用户的输入。-p 设置提示信息；-t 设置等待时间。</td>
</tr>
<tr>
<td>basename pathname suffix</td>
<td>返回完整路径最后的 / 的部分，常用于获取文件名，suffix 选择是否去掉该后缀</td>
</tr>
<tr>
<td>dirname</td>
<td>返回完整路径最后的 / 的前面的部分，常用于获取路径部分。</td>
</tr>
</tbody>
</table>
<p>Shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序。用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序。</p>
<p>脚本需要以 #!/bin/bash 开头，还需要有可执行权限。</p>
<p>Linux Shellr 中的变量分为，系统变量和用户自定义变量。系统变量： <code>$HOME、$PWD、$SHELL、$USER</code>  等等。</p>
<h3 id="定义变量的规则"><a class="markdownIt-Anchor" href="#定义变量的规则">#</a> 定义变量的规则</h3>
<ol>
<li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头。5A=200 这样是错误的。</li>
<li>等号两侧不能有空格变量。</li>
<li>名称一般习惯为大写。</li>
<li>将命令的返回值赋给变量：A= <code>date</code>  反引号，运行里面的命令，并把结果返回给变量 A。A=$(date) 等价于反引号。</li>
</ol>
<h3 id="位置参数变量"><a class="markdownIt-Anchor" href="#位置参数变量">#</a> 位置参数变量</h3>
<p>当我们执行一个 shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量。比如：./myshell.sh100 200，这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息。</p>
<table>
<thead>
<tr>
<th>语法</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>$n</td>
<td>n 为数字， <code>$0</code>  代表命令本身， <code>$1</code> - <code>$9</code>  代表第一到第九个参数，十以上的参数需要用大括号包含，如 <code>${10}</code> 。</td>
</tr>
<tr>
<td>$*</td>
<td>这个变量代表命令行中所有的参数，$* 把所有的参数看成一个整体。</td>
</tr>
<tr>
<td>$@</td>
<td>这个变量也代表命令行中所有的参数，不过 $@把每个参数区分对待。</td>
</tr>
<tr>
<td>$#</td>
<td>这个变量代表命令行中所有参数的个数。</td>
</tr>
</tbody>
</table>
<h3 id="流程控制"><a class="markdownIt-Anchor" href="#流程控制">#</a> 流程控制</h3>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-ge</span> <span class="token number">60</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"及格了"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-lt</span> <span class="token number">60</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> 
    <span class="token builtin class-name">echo</span> <span class="token string">"不及格"</span>
<span class="token keyword">fi</span>

<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
<span class="token string">"1"</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">"周一"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"2"</span><span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">"周二"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">"other"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$*</span>"</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"num is <span class="token variable">$i</span>"</span>
<span class="token keyword">done</span>

<span class="token assign-left variable">SUM</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-le</span> <span class="token variable">$1</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
    <span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$SUM</span>+<span class="token variable">$i</span><span class="token punctuation">]</span>
    <span class="token assign-left variable">i</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$1</span>+1<span class="token punctuation">]</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="自定义函数"><a class="markdownIt-Anchor" href="#自定义函数">#</a> 自定义函数</h3>
<h2 id="ubuntu"><a class="markdownIt-Anchor" href="#ubuntu">#</a> Ubuntu</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>sudo apt-get update</td>
<td>更新源</td>
</tr>
<tr>
<td>sudo apt-get install package</td>
<td>安装包</td>
</tr>
<tr>
<td>sudo apt-get remove package</td>
<td>删除包</td>
</tr>
<tr>
<td>sudo apt-cache show package</td>
<td>获取包的相关信息</td>
</tr>
<tr>
<td>sudo apt-get source package</td>
<td>下载包的源代码</td>
</tr>
<tr>
<td>ssh 用户名 @IP</td>
<td>在 Linux 上远程连接其他 Linux</td>
</tr>
</tbody>
</table>
<p>apt 是 Advanced Packaging Tool 的简称，是一款安装包管理工具。在 Ubuntu 下，我们可以使用 apt 命令进行软件包的安装、删除、清理等，类似于 Windows 中的软件管理工具。在 /etc/apt/sources.list 文件中有服务器地址（美国 APT），由于网络问题，通常我们将其改为国内的镜像站。</p>
<p>和 CentOS 不一样，Ubuntu 默认没有安装 SSHD 服务（使用 netstat 指令查看：apt install net-tools)，因此，我们不能进行远程登录。</p>
<h2 id="日志"><a class="markdownIt-Anchor" href="#日志">#</a> 日志</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>cron</td>
<td>系统定时任务相关的日志</td>
</tr>
<tr>
<td>lastlog</td>
<td>系统中所有用户最后一次的登录时间的日志</td>
</tr>
<tr>
<td>message</td>
<td>系统重要消息的日志。这个日志文件中会记录 Linux 系统的绝大多数重要信息。如果系统出现问题，首先要检查的应该就是这个日志文件。</td>
</tr>
<tr>
<td>secure</td>
<td>记录验证和授权方面的信息，只要涉及账户和密码的程序都会记录，比如系统的登录、ssh 的登录、su 的切换用户， sudo 的授权，甚至添加用户和修改用户密码都会记录在这个日志文件中。</td>
</tr>
<tr>
<td>ulmp</td>
<td>记录当前已经登录的用户的信息。这个文件会随着用户的登录和注销而不断变化，只记录当前登录用户的信息。这个文件不能用 vi 查看，而要使用 w、who、users 等命令查看</td>
</tr>
<tr>
<td>journalctl</td>
<td>查看内存日志，重启清空</td>
</tr>
</tbody>
</table>
<p>系统日志文件的保存位置是 /var/log/。</p>
<p>在文件 /etc/rsyslog.conf 在可以查看日志的服务。</p>
<p>由日志服务 rsyslog 记录的日志文件的格式包含以下 4 列：事件产生的时间；产生事件的服务器的主机名；产生事件的服务名或程序名和事件的具体信息。</p>
<p>/etc/logrotate.conf 记录全局的日志轮替策略，当然也可以单独给某个日志文件指定策略。也可以把某个日志的轮替规则写到 /etc/logrotate.d 目录上。</p>
<h2 id="定制自己的linux系统"><a class="markdownIt-Anchor" href="#定制自己的linux系统">#</a> 定制自己的 Linux 系统</h2>
<h3 id="linux启动流程"><a class="markdownIt-Anchor" href="#linux启动流程">#</a> Linux 启动流程</h3>
<ol>
<li>Linux 要通过自检，检查硬件设备有没有故障。</li>
<li>如果有多块启动盘的话，需要在 BIOS 中选择启动磁盘。</li>
<li>启动 MBR 中的 bootloader 引导程序。</li>
<li>加载内核文件。</li>
<li>执行所有进程的父进程、老祖宗 systemd。</li>
<li>欢迎界面。</li>
</ol>
<h2 id="源码阅读"><a class="markdownIt-Anchor" href="#源码阅读">#</a> 源码阅读</h2>
<table>
<thead>
<tr>
<th>文件夹</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>boot</td>
<td>存放与系统引导相关的代码</td>
</tr>
<tr>
<td>fs</td>
<td>存放 Linux 支持的文件系统代码</td>
</tr>
<tr>
<td>include</td>
<td>存放 Linux 核心需要的头文件</td>
</tr>
<tr>
<td>init</td>
<td>存放初始化相关的源码</td>
</tr>
<tr>
<td>kernel</td>
<td>存放与内核相关的代码</td>
</tr>
<tr>
<td>lib</td>
<td>存放库代码</td>
</tr>
<tr>
<td>mm</td>
<td>内存管理的代码</td>
</tr>
<tr>
<td>tools</td>
<td>工具相关的代码</td>
</tr>
</tbody>
</table>
<h2 id="内核升级"><a class="markdownIt-Anchor" href="#内核升级">#</a> 内核升级</h2>
<table>
<thead>
<tr>
<th>指令</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td>uname -a</td>
<td>查看当前的内核版本</td>
</tr>
<tr>
<td>yum info kernel -q</td>
<td>检测内核版本，显示可以升级的内核</td>
</tr>
<tr>
<td>yum update kernel</td>
<td>升级内核</td>
</tr>
<tr>
<td>yum list kernel -q</td>
<td>查看已经安装的内核</td>
</tr>
</tbody>
</table>
<h2 id="备份与恢复"><a class="markdownIt-Anchor" href="#备份与恢复">#</a> 备份与恢复</h2>
<p>linux 的备份和恢复很简单，有两种方式： 1、把需要的文件 (或者分区) 用 TAR 打包就行，下次需要恢复的时候，再解压开覆盖即可。2、使用 dump 和 restore 命令。</p>
<p>dump 指令在备份分区时，是可以支持增量备份的，如果备份文件或者目录，不再支持增量备份，即只能使用 0 级别备份。</p>
<h2 id="权限管理"><a class="markdownIt-Anchor" href="#权限管理">#</a> 权限管理</h2>
<ol>
<li>注意权限分离，比如：工作中，Liux 系统权限和数据库权限不要在同一个部门权限最小原则，即在满足使用的情况下最少优先。</li>
<li>减少使用 root 用户，尽量用普通用户 + sudo 提权进行日常操作。</li>
<li>重要的系统文件，比如 /etc/passwd，/etc/shadow etc/fstab，/etc/sudoers 等，日常建议使用 chattr（change attribute）锁定，需要操作时再打开。</li>
<li>使用 SUID,SGID,Sticky 设置特殊权限。</li>
<li>可以利用工具，比如 chkrootkit/rootkit hunter 检测 rootkit 脚本（rootkit 是入侵者使用工具，在不察觉的建立了入侵系统途径)。</li>
<li>利用工具 Tripwire 检测文件系统完整性。</li>
</ol>
<h2 id="centos7启动"><a class="markdownIt-Anchor" href="#centos7启动">#</a> CentOS7 启动</h2>
<ol>
<li>硬件引导启动</li>
<li>GRUB2 启动引导</li>
<li>内核引导</li>
<li>systemd 初始化阶段</li>
</ol>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">xiqin</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://xiqin-huang.github.io/2023/10/12/java/linux-han-shun-ping/linux-han-shun-ping/">https://xiqin-huang.github.io/2023/10/12/java/linux-han-shun-ping/linux-han-shun-ping/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">xiqin</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/">
                                    <span class="chip bg-color">java学习路线</span>
                                </a>
                            
                                <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">
                                    <span class="chip bg-color">计算机基础</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/10/12/ban-gong/excel/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="Excel操作技巧">
                        
                        <span class="card-title">Excel操作技巧</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-10-12
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%8A%9E%E5%85%AC/" class="post-category">
                                    办公
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Excel/">
                        <span class="chip bg-color">Excel</span>
                    </a>
                    
                    <a href="/tags/office/">
                        <span class="chip bg-color">office</span>
                    </a>
                    
                    <a href="/tags/%E6%97%A5%E5%B8%B8%E5%8A%9E%E5%85%AC/">
                        <span class="chip bg-color">日常办公</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/10/12/java/java-shua-ti/dai-ma-sui-xiang-lu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-10-12
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            xiqin
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('3'),
            headingSelector: 'h1, h2, h3'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <a href="/about" target="_blank">xiqin</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
                <span id="translate">|&nbsp;繁/简：</span><a id="translateLink" href="javascript:translatePage();">繁</a>
            
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">200k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "6";
                        var startDate = "3";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/xiqin-huang" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1815750296@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
        <script type="text/javascript" src="/js/tw_cn.js"></script>
        <script type="text/javascript">
          var defaultEncoding = 2; //网站编写字体是否繁体，1-繁体，2-简体
          var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
          var cookieDomain = "https://xiqin-huang.github.io"; //Cookie地址, 一定要设定, 通常为你的网址
          var msgToTraditionalChinese = "繁"; //此处可以更改为你想要显示的文字
          var msgToSimplifiedChinese = "简"; //同上，但两处均不建议更改
          var translateButtonId = "translateLink"; //默认互换id
          translateInitilization();
        </script>
    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
